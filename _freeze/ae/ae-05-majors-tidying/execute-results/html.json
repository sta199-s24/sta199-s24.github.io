{
  "hash": "ffc236320804e2b02e4ad4f050d55888",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 05: Tidying StatSci Majors\"\n---\n\n\n## Goal\n\nOur ultimate goal in this application exercise is to make the following data visualization.\n\n![](https://sta199-s24.github.io/images/statsci-plot.png){fig-alt=\"Line plot of numbers of Statistical Science majors over the years (2011 - 2021). Degree types represented are BS, BS2, AB, AB2. There is an increasing trend in BS degrees and somewhat steady trend in AB degrees.\" fig-align=\"center\"}\n\n## Data\n\nThe data come from the [Office of the University Registrar](https://registrar.duke.edu/registration/enrollment-statistics).\nThey make the data available as a table that you can download as a PDF, but I've put the data exported in a CSV file for you.\nLet's load that in.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nstatsci <- read_csv(\"https://sta199-s24.github.io/data/statsci.csv\")\n```\n:::\n\n\nAnd let's take a look at the data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstatsci\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 14\n  degree   `2011` `2012` `2013` `2014` `2015` `2016` `2017` `2018` `2019` `2020`\n  <chr>     <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n1 Statist…     NA      1     NA     NA      4      4      1     NA     NA      1\n2 Statist…      2      2      4      1      3      6      3      4      4      1\n3 Statist…      2      6      1     NA      5      6      6      8      8     17\n4 Statist…      5      9      4     13     10     17     24     21     26     27\n# ℹ 3 more variables: `2021` <dbl>, `2022` <dbl>, `2023` <dbl>\n```\n\n\n:::\n:::\n\n\n## Pivoting\n\n-   **Demo:** Pivot the `statsci` data frame *longer* such that each row represents a degree type / year combination and `year` and `n`umber of graduates for that year are columns in the data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Question:** What is the type of the `year` variable? Why? What should it be?\n\n*Add your response here.*\n\n-   **Demo:** Start over with pivoting, and this time also make sure `year` is a numerical variable in the resulting data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Question:** What does an `NA` mean in this context? *Hint:* The data come from the university registrar, and they have records on every single graduates, there shouldn't be anything \"unknown\" to them about who graduated when.\n\n*Add your response here.*\n\n-   **Demo:** Add on to your pipeline that you started with pivoting and convert `NA`s in `n` to `0`s.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Demo:** In our plot the degree types are BS, BS2, AB, and AB2. This information is in our dataset, in the `degree` column, but this column also has additional characters we don't need. Create a new column called `degree_type` with levels BS, BS2, AB, and AB2 (in this order) based on `degree`. Do this by adding on to your pipeline from earlier.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Your turn:** Now we start making our plot, but let's not get too fancy right away. Create the following plot, which will serve as the \"first draft\" on the way to our [Goal]. Do this by adding on to your pipeline from earlier.\n\n![](https://sta199-s24.github.io/images/statsci-plot-draft.png){fig-alt=\"Line plot of numbers of Statistical Science majors over the years (2011 - 2021). Degree types represented are BS, BS2, AB, AB2. There is an increasing trend in BS degrees and somewhat steady trend in AB degrees.\" fig-align=\"center\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Your turn:** What aspects of the plot need to be updated to go from the draft you created above to the [Goal] plot at the beginning of this application exercise.\n\n*Add your response here.*\n\n-   **Demo:** Update x-axis scale such that the years displayed go from 2011 to 2023 in increments of 2 years. Do this by adding on to your pipeline from earlier.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Demo:** Update line colors using the following level / color assignments. Once again, do this by adding on to your pipeline from earlier.\n    -   \"BS\" = \"cadetblue4\"\n\n    -   \"BS2\" = \"cadetblue3\"\n\n    -   \"AB\" = \"lightgoldenrod4\"\n\n    -   \"AB2\" = \"lightgoldenrod3\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Your turn:** Update the plot labels (`title`, `subtitle`, `x`, `y`, and `caption`) and use `theme_minimal()`. Once again, do this by adding on to your pipeline from earlier.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n\n\n-   **Demo:** Finally, adding to your pipeline you've developed so far, move the legend into the plot, make its background white, and its border gray. Set `fig-width: 7` and `fig-height: 5` for your plot in the chunk options.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# add your code here\n```\n:::\n",
    "supporting": [
      "ae-05-majors-tidying_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}