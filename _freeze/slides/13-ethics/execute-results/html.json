{
  "hash": "9bce991ebd820cf53bb2a4331909934b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data science ethics\"\nsubtitle: \"Lecture 13\"\ndate: \"February 29, 2024\"\nformat: \n  revealjs:\n    footer: \"[üîó sta199-s24.github.io](https://sta199-s24.github.io/) &nbsp;¬∑&nbsp; [‚ùì Ask on Ed](https://edstem.org/us/courses/50730)\"\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n# Warm up\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## While you wait for class to begin...\n\n::: nonincremental\nAny questions from prepare materials?\n:::\n\n\n\n```{=html}\n<iframe allowfullscreen frameborder=\"0\" height=\"100%\" mozallowfullscreen style=\"min-width: 500px; min-height: 355px\" src=\"https://app.wooclap.com/STA199S24?from=status-bar?\" width=\"100%\"></iframe>\n```\n\n\n## Announcements\n\n-   Fill out TEAMMATES survey to provide feedback to your teammates bu Sunday night (and to let us know how things are going)\n-   Submit AE 09 (the R script and the Quarto document) by Sunday night\n-   Submit Lab 4 by Monday morning\n\n## Questions from last time\n\n> How do you do that keyboard shortcut where you like drag down text selecting?\n\n. . .\n\n> How do you know when to clean extra space after text if you cannot specifically see the spaces?\n\n. . .\n\n> Will there be a curve for the test?\n\n## Guidelines and best practices for using Chat GPT {.smaller}\n\n-   Do [**not**]{.underline} just copy-paste the prompt ‚Äì for appropriate academic conduct, for your own learning, and for getting to better results faster\n-   Engineer the prompt until the response starts to look like code you're learning in the course\n-   If the response is not correct, ask for a correction\n-   If the response doesn't follow the guidelines, ask for a correction\n-   Do not just copy-paste code from Chat GPT responses, run it line-by-line and edit as needed\n-   Watch out for clear mistakes in the response: do not keep loading packages that are already loaded, use the base pipe `|>`, use tidyverse-based code, etc.\n\n## Today\n\nData science ethics:\n\n-   Misrepresentation\n\n-   Data privacy\n\n-   Algorithmic bias\n\n# Misrepresentation\n\n## Stand your ground {.smaller}\n\n::: question\nIn 2005, the [*Florida legislature*](https://en.wikipedia.org/w/index.php?search=Florida%20legislature) passed the controversial [\"Stand Your Ground\" law](https://en.wikipedia.org/wiki/Stand-your-ground_law) that broadened the situations in which citizens can use lethal force to protect themselves against perceived threats.\nAdvocates believed that the new law would ultimately reduce crime; opponents feared an increase in the use of lethal force.\n:::\n\n## Stand your ground {.smaller}\n\n::: panel-tabset\n## Question\n\n::: question\nWhat does the visualization, published by [Reuters](http://static5.businessinsider.com/image/53038b556da8110e5ce82be7-604-756/florida%20gun%20deaths.jpg) on February 16, 2014, say about the number of firearm murders in Florida over the years?\n:::\n\n![](images/stand-your-ground.png){fig-align=\"center\" width=\"711\"}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_eb105633\" data-update-every=\"1\" tabindex=\"0\" style=\"bottom:0.1;left:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n## Submit\n\n\n\n```{=html}\n<iframe allowfullscreen frameborder=\"0\" height=\"100%\" mozallowfullscreen style=\"min-width: 500px; min-height: 355px\" src=\"https://app.wooclap.com/STA199S24?from=status-bar?\" width=\"100%\"></iframe>\n```\n\n\n:::\n\n# Data privacy\n\n## \"Your\" data\n\n-   Every time we use apps, websites, and devices, our data is being collected and used or sold to others.\n\n-   More importantly, decisions are made by law enforcement, financial institutions, and governments based on data that directly affect the lives of people.\n\n## Privacy of your data\n\n::: question\nWhat pieces of data have you left on the internet today?\nThink through everything you've logged into, clicked on, checked in, either actively or automatically, that might be tracking you.\nDo you know where that data is stored?\nWho it can be accessed by?\nWhether it's shared with others?\n:::\n\n## Sharing your data {.smaller}\n\n::: question\nWhat are you OK with sharing?\n:::\n\n::: columns\n::: {.column width=\"50%\"}\n::: incremental\n-   Name\n-   Age\n-   Email\n-   Phone Number\n-   List of every video you watch\n-   List of every video you comment on\n:::\n:::\n\n::: {.column width=\"50%\"}\n::: incremental\n-   How you type: speed, accuracy\n-   How long you spend on different content\n-   List of all your private messages (date, time, person sent to)\n-   Info about your photos (how it was taken, where it was taken (GPS), when it was taken)\n:::\n:::\n:::\n\n## What does Google think/know about you?\n\n::: question\nHave you ever thought about why you're seeing an ad on Google?\nGoogle it!\nTry to figure out if you have ad personalization on and how your ads are personalized.\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_682dff38\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n## Your browing history\n\n::: question\nWhich of the following are you OK with your browsing history to be used towards?\n:::\n\n::: incremental\n-   For serving you targeted ads\n-   To score you as a candidate for a job\n-   To predict your race/ethnicity for voting purposes\n:::\n\n## Who else gets to use your data?\n\n::: question\nSuppose you create a profile on a social media site and share your personal information on your profile.\nWho else gets to use that data?\n:::\n\n::: incremental\n-   Companies the social media company has a connection to?\n-   Companies the social media company sells your data to?\n-   Researchers?\n:::\n\n## OK Cupid data breach {.xsmall}\n\n-   In 2016, researchers published data of 70,000 OkCupid users---including usernames, political leanings, drug usage, and intimate sexual details\n-   Researchers didn't release the real names and pictures of OKCupid users, but their identities could easily be uncovered from the details provided, e.g. usernames\n\n. . .\n\n::: columns\n::: {.column width=\"60%\"}\n> Some may object to the ethics of gathering and releasing this data.\n> However, all the data found in the dataset are or were already publicly available, so releasing this dataset merely presents it in a more useful form.\n>\n> Researchers Emil Kirkegaard and Julius Daugbjerg Bjerrek√¶r\n:::\n\n::: {.column width=\"40%\"}\n![](images/okcupid-tweet.png){fig-align=\"center\" width=\"500\"}\n:::\n:::\n\n# Algorithmic bias\n\n## Gettysburg address {.smaller}\n\n::: columns\n::: {.column width=\"30%\"}\n::: question\nRandomly select 10 words from the Gettysburg Address and calculate the mean number of letters in these 10 words.\nSubmit your answer at [bit.ly/bit.ly/gburg-s24](https://bit.ly/gburg-s24).\n\n![](images/bit.ly_gburg-s24.png){fig-align=\"center\" width=\"150\"}\n:::\n:::\n\n::: {.column width=\"70%\"}\n![](images/getty.jpg){fig-align=\"center\"}\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_ec35022a\" data-update-every=\"1\" tabindex=\"0\" style=\"bottom:0.1;left:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">03</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n## Your responses\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n‚úî Reading from \"Gettysburg address - Spring 2024 (Responses)\".\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n‚úî Range 'Form Responses 1'.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](13-ethics_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n\n## Comparison to \"truth\"\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](13-ethics_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n\n## Garbage in, garbage out\n\n-   In statistical modeling and inference we talk about \"garbage in, garbage out\" -- if you don't have good (random, representative) data, results of your analysis will not be reliable or generalizable.\n-   Corollary: Bias in, bias out.\n\n## Google translate\n\n::: question\nWhat might be the reason for Google's gendered translation?\nHow do ethics play into this situation?\n:::\n\n![](images/google-translate.png){fig-align=\"center\"}\n\n::: aside\nSource: [Engadget - Google is working to remove gender bias in its translations](https://www.engadget.com/2018-12-07-google-remove-gender-bias-translations.html)\n:::\n\n## Stochastic parrots {.xxsmall}\n\n::: panel-tabset\n## Excerpt\n\n[On the Dangers of Stochastic Parrots: Can Language Models Be Too Big? ü¶ú](https://s10251.pcdn.co/pdf/2021-bender-parrots.pdf) (Bender et. al., 2021)\n\n> The past 3 years of work in NLP have been characterized by the development and deployment of ever larger language models, especially for English.\n> BERT, its variants, GPT-2/3, and others, most recently Switch-C, have pushed the boundaries of the possible both through architectural innovations and through sheer size.\n> Using these pretrained models and the methodology of fine-tuning them for specific tasks, researchers have extended the state of the art on a wide array of tasks as measured by leaderboards on specific benchmarks for English.\n> In this paper, we take a step back and ask: How big is too big?\n> What are the possible risks associated with this technology and what paths are available for mitigating those risks?\n> We provide recommendations including weighing the environmental and financial costs first, investing resources into curating and carefully documenting datasets rather than ingesting everything on the web, carrying out pre-development exercises evaluating how the planned approach fits into research and development goals and supports stakeholder values, and encouraging research directions beyond ever larger language models.\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"countdown\" id=\"timer_afae5634\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n\n:::\n:::\n\n\n\n## Question\n\n::: question\nWhat is meant by ‚Äústochastic parrots‚Äù in the paper title?\n:::\n\n\n\n```{=html}\n<iframe allowfullscreen frameborder=\"0\" height=\"100%\" mozallowfullscreen style=\"min-width: 500px; min-height: 355px\" src=\"https://app.wooclap.com/STA199S24?from=status-bar?\" width=\"100%\"></iframe>\n```\n\n\n:::\n\n## Machine Bias {.smaller}\n\n2016 ProPublica article on algorithm used for rating a defendant's risk of future crime:\n\n::: columns\n::: {.column width=\"70%\"}\n> In forecasting who would re-offend, the algorithm made mistakes with black and white defendants at roughly the same rate but in very different ways.\n>\n> -   The formula was particularly likely to falsely flag black defendants as future criminals, wrongly labeling them this way at almost twice the rate as white defendants.\n>\n> -   White defendants were mislabeled as low risk more often than black defendants.\n:::\n\n::: {.column width=\"30%\"}\n![](images/machine-bias.png){fig-align=\"center\" width=\"800\"}\n:::\n:::\n\n::: aside\nSource: [ProPublica](https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing)\n:::\n\n## Risk score errors\n\n::: columns\n::: {.column width=\"35%\"}\n::: question\nWhat is common among the defendants who were assigned a high/low risk score for reoffending?\n:::\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"30%\"}\n![](images/machine-bias-petty-theft-1.png){fig-align=\"center\" width=\"300\" height=\"250\"} ![](images/machine-bias-petty-theft-2.png){fig-align=\"center\" width=\"300\" height=\"180\"}\n:::\n\n::: {.column width=\"30%\"}\n![](images/machine-bias-drug-posession-1.png){fig-align=\"center\" width=\"300\" height=\"250\"} ![](images/machine-bias-drug-posession-2.png){fig-align=\"center\" width=\"300\" height=\"180\"}\n:::\n:::\n\n## Risk scores\n\n::: columns\n::: {.column width=\"35%\"}\n::: question\nHow can an algorithm that doesn't use race as input data be racist?\n:::\n:::\n\n::: {.column width=\"5%\"}\n:::\n\n::: {.column width=\"60%\"}\n![](images/machine-bias-risk-scores.png){fig-align=\"center\" width=\"480\"}\n:::\n:::\n\n## Predicting ethnicity {.xxsmall}\n\n[Improving Ecological Inference by Predicting Individual Ethnicity from Voter Registration Record](https://imai.fas.harvard.edu/research/race.html) (Imran and Khan, 2016)\n\n> In both political behavior research and voting rights litigation, turnout and vote choice for different racial groups are often inferred using aggregate election results and racial composition.\n> Over the past several decades, many statistical methods have been proposed to address this ecological inference problem.\n> We propose an alternative method to reduce aggregation bias by predicting individual-level ethnicity from voter registration records.\n> Building on the existing methodological literature, we use Bayes‚Äôs rule to combine the Census Bureau‚Äôs Surname List with various information from geocoded voter registration records.\n> We evaluate the performance of the proposed methodology using approximately nine million voter registration records from Florida, where self-reported ethnicity is available.\n> We find that it is possible to reduce the false positive rate among Black and Latino voters to 6% and 3%, respectively, while maintaining the true positive rate above 80%.\n> Moreover, we use our predictions to estimate turnout by race and find that our estimates yields substantially less amounts of bias and root mean squared error than standard ecological inference estimates.\n> We provide open-source software to implement the proposed methodology.\n> The open-source software is available for implementing the proposed methodology.\n\n## **wru** package\n\nThe said ‚Äúsource software‚Äù is the wru package: <https://github.com/kosukeimai/wru>.\n\n::: question\nDo you have any ethical concerns about installing this package?\n:::\n\n## **wru** package {.smaller}\n\n::: question\nWas the publication of this model ethical?\nDoes the open-source nature of the code affect your answer?\nIs it ethical to use this software?\nDoes your answer change depending on the intended use?\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(wru)\npredict_race(voter.file = voters, surname.only = TRUE) |>\n  select(surname, contains(\"pred\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      surname    pred.whi    pred.bla     pred.his    pred.asi    pred.oth\n1      Khanna 0.045110474 0.003067623 0.0068522723 0.860411906 0.084557725\n2        Imai 0.052645440 0.001334812 0.0558160072 0.719376581 0.170827160\n3      Rivera 0.043285692 0.008204605 0.9136195794 0.024316883 0.010573240\n4     Fifield 0.895405704 0.001911388 0.0337464844 0.011079323 0.057857101\n5        Zhou 0.006572555 0.001298962 0.0005388581 0.982365594 0.009224032\n6    Ratkovic 0.861236727 0.008212824 0.0095395642 0.011334635 0.109676251\n7     Johnson 0.543815322 0.344128607 0.0272403940 0.007405765 0.077409913\n8       Lopez 0.038939877 0.004920643 0.9318797791 0.012154125 0.012105576\n10 Wantchekon 0.330697188 0.194700665 0.4042849478 0.021379541 0.048937658\n9       Morse 0.866360147 0.044429853 0.0246568086 0.010219712 0.054333479\n```\n\n\n:::\n:::\n\n\n\n## **wru** package {.smaller}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nme <- tibble(surname = \"Rundel\")\n\npredict_race(voter.file = me, surname.only = TRUE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nPredicting race for 2020\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Unknown or uninitialised column: `state`.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nProceeding with last name predictions...\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n‚Ñπ All local files already up-to-date!\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  surname  pred.whi pred.bla pred.his pred.asi   pred.oth\n1  Rundel 0.9177967        0        0        0 0.08220329\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}